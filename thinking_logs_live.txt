mealmateai-meal-planner-service-1  | /usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:261: UserWarning: Valid config keys have changed in V2:
mealmateai-meal-planner-service-1  | * 'orm_mode' has been renamed to 'from_attributes'
mealmateai-meal-planner-service-1  |   warnings.warn(message, UserWarning)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: query_generation
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: meal_plan_generation
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: modification_queries
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: plan_modification
mealmateai-meal-planner-service-1  | INFO:     Started server process [1]
mealmateai-meal-planner-service-1  | INFO:     Waiting for application startup.
mealmateai-meal-planner-service-1  | INFO:     Application startup complete.
mealmateai-meal-planner-service-1  | INFO:     Uvicorn running on http://0.0.0.0:8002 (Press CTRL+C to quit)
mealmateai-meal-planner-service-1  | INFO:     172.25.0.1:56334 - "GET /health HTTP/1.1" 200 OK
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:Creating RAG meal plan for user 1 with prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs'
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:Getting AI recommendations for prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs'
mealmateai-meal-planner-service-1  | INFO:httpx:HTTP Request: POST http://recipe-service:8001/recommendations "HTTP/1.1 200 OK"
mealmateai-meal-planner-service-1  | WARNING:app.services.meal_plan_service:AI recommendations failed or returned no results: error: 1 validation error for QueryAnalysis
mealmateai-meal-planner-service-1  | meal_context
mealmateai-meal-planner-service-1  |   Input should be a valid string [type=string_type, input_value=['meal plan'], input_type=list]
mealmateai-meal-planner-service-1  |     For further information visit https://errors.pydantic.dev/2.11/v/string_type
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:Fallback search with query: protein
mealmateai-meal-planner-service-1  | INFO:httpx:HTTP Request: GET http://recipe-service:8001/search?query=protein&limit=20 "HTTP/1.1 200 OK"
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:Fallback search found 6 unique recipes
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Successfully generated and validated RAG meal plan
mealmateai-meal-planner-service-1  | INFO:     172.25.0.8:48054 - "POST /rag/generate HTTP/1.1" 200 OK
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:Creating RAG meal plan for user 1 with prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:Getting AI recommendations for prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:httpx:HTTP Request: POST http://recipe-service:8001/recommendations "HTTP/1.1 200 OK"
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:AI recommendations returned 27 recipes
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Successfully generated and validated RAG meal plan
mealmateai-meal-planner-service-1  | INFO:     172.25.0.8:35604 - "POST /rag/generate HTTP/1.1" 200 OK
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:Creating RAG meal plan for user 1 with prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:Getting AI recommendations for prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:httpx:HTTP Request: POST http://recipe-service:8001/recommendations "HTTP/1.1 200 OK"
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:AI recommendations returned 27 recipes
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Successfully generated and validated RAG meal plan
mealmateai-meal-planner-service-1  | INFO:     172.25.0.8:57914 - "POST /rag/generate HTTP/1.1" 200 OK
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:Creating RAG meal plan for user 1 with prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:Getting AI recommendations for prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:httpx:HTTP Request: POST http://recipe-service:8001/recommendations "HTTP/1.1 200 OK"
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:AI recommendations returned 27 recipes
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Successfully generated and validated RAG meal plan
mealmateai-meal-planner-service-1  | INFO:     172.25.0.8:54070 - "POST /rag/generate HTTP/1.1" 200 OK
mealmateai-meal-planner-service-1  | INFO:     Shutting down
mealmateai-meal-planner-service-1  | INFO:     Waiting for application shutdown.
mealmateai-meal-planner-service-1  | INFO:     Application shutdown complete.
mealmateai-meal-planner-service-1  | INFO:     Finished server process [1]
mealmateai-meal-planner-service-1  | /usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:261: UserWarning: Valid config keys have changed in V2:
mealmateai-meal-planner-service-1  | * 'orm_mode' has been renamed to 'from_attributes'
mealmateai-meal-planner-service-1  |   warnings.warn(message, UserWarning)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: query_generation
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: meal_plan_generation
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: modification_queries
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: plan_modification
mealmateai-meal-planner-service-1  | INFO:     Started server process [1]
mealmateai-meal-planner-service-1  | INFO:     Waiting for application startup.
mealmateai-meal-planner-service-1  | INFO:     Application startup complete.
mealmateai-meal-planner-service-1  | INFO:     Uvicorn running on http://0.0.0.0:8002 (Press CTRL+C to quit)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üß† STARTING RAG MEAL PLAN THINKING PROCESS
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üìã STEP 1: Gathering User Context
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üë§ User ID: 1
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üí¨ Original Prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üéØ User Preferences Retrieved:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Dietary Restrictions: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Allergies: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Cuisine Preferences: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Cooking Style: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Spice Tolerance: unknown
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Portion Preference: unknown
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üìö STEP 2: Analyzing Meal Plan History
mealmateai-meal-planner-service-1  | ERROR:app.services.meal_plan_service:Error getting user meal plans: (psycopg2.errors.UndefinedColumn) column meal_plans.conversation_data does not exist
mealmateai-meal-planner-service-1  | LINE 1: ....plan_explanation AS meal_plans_plan_explanation, meal_plans...
mealmateai-meal-planner-service-1  |                                                              ^
mealmateai-meal-planner-service-1  | 
mealmateai-meal-planner-service-1  | 
mealmateai-meal-planner-service-1  | [SQL: SELECT meal_plans.id AS meal_plans_id, meal_plans.user_id AS meal_plans_user_id, meal_plans.plan_name AS meal_plans_plan_name, meal_plans.created_at AS meal_plans_created_at, meal_plans.updated_at AS meal_plans_updated_at, meal_plans.days AS meal_plans_days, meal_plans.meals_per_day AS meal_plans_meals_per_day, meal_plans.plan_data AS meal_plans_plan_data, meal_plans.plan_explanation AS meal_plans_plan_explanation, meal_plans.conversation_data AS meal_plans_conversation_data, meal_plans.conversation_title AS meal_plans_conversation_title, meal_plans.original_prompt AS meal_plans_original_prompt 
mealmateai-meal-planner-service-1  | FROM meal_plans 
mealmateai-meal-planner-service-1  | WHERE meal_plans.user_id = %(user_id_1)s 
mealmateai-meal-planner-service-1  |  LIMIT %(param_1)s OFFSET %(param_2)s]
mealmateai-meal-planner-service-1  | [parameters: {'user_id_1': 1, 'param_1': 100, 'param_2': 0}]
mealmateai-meal-planner-service-1  | (Background on this error at: https://sqlalche.me/e/20/f405)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üóÇÔ∏è Recent Meal Plans (last 3): []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚ö™ No previous meal plans found - first time user
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | ü§ñ STEP 3: AI-Powered Recipe Recommendations
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üîç Searching for recipes with enhanced context...
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üîÑ Converting prompt to conversation format...
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üí¨ Conversation History Sent to Recipe Service:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:[
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |         "role": "user",
mealmateai-meal-planner-service-1  |         "content": "I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs\n"
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  | ]
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üì§ Sending Request to Recipe Service RAG System:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Max Results: 50
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ User Preferences Included: True
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Preferences Data: {
mealmateai-meal-planner-service-1  |       "dietary_restrictions": [],
mealmateai-meal-planner-service-1  |       "allergies": [],
mealmateai-meal-planner-service-1  |       "cuisine_preferences": [],
mealmateai-meal-planner-service-1  |       "disliked_ingredients": []
mealmateai-meal-planner-service-1  | }
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | ‚ö° Calling Recipe Service /recommendations endpoint...
mealmateai-meal-planner-service-1  | INFO:httpx:HTTP Request: POST http://recipe-service:8001/recommendations "HTTP/1.1 200 OK"
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üì• Recipe Service Response Status: success
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üî¢ Total Results Returned: 27
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:‚úÖ SUCCESS: AI recommendations returned 27 recipes
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üîç Recipe Service Query Analysis:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Detected Preferences: ['easy to cook', 'high protein', 'low carbs']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Detected Restrictions: ['no salads']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Meal Context: breakfast, lunch, dinner, snack
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Collections Searched: ['baked-breads', 'quick-light', 'protein-mains', 'comfort-cooked', 'desserts-sweets', 'breakfast-morning', 'plant-based', 'fresh-cold']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Processing Time: 12335ms
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üéØ Generated Queries by Collection:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     baked-breads: ['fresh bread recipes', 'homemade pastries']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     quick-light: ['quick meal ideas', 'light lunch recipes']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     protein-mains: ['main course dishes', 'protein-rich meals']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     comfort-cooked: ['comfort food recipes', 'hearty stews']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     desserts-sweets: ['sweet treats', 'dessert recipes']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     breakfast-morning: ['breakfast ideas', 'morning meals']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     plant-based: ['vegetarian recipes', 'plant-based meals']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     fresh-cold: ['fresh salads', 'cold dishes']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üìã Sample Retrieved Recipes (top 5):
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   1. BA's Best Bread (Collection: baked-breads, Score: 0.652)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   2. Celery on Celery Salad (Collection: fresh-cold, Score: 0.650)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   3. Barley and Lentil Soup with Swiss Chard (Collection: comfort-cooked, Score: 0.649)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   4. Shrimp, Cucumber, and Mango Salad (Collection: fresh-cold, Score: 0.644)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   5. Marbled Chocolate and Strawberry Galettes (Collection: desserts-sweets, Score: 0.632)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üîÑ Converting 27 recipes to meal plan format...
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:‚úÖ Added user preferences to recipe data for Gemini context
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:‚úÖ Recipe conversion complete: 27 recipes ready for meal plan generation
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üé≠ STEP 4: Meal Plan Generation with 27 recipes
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:
mealmateai-meal-planner-service-1  | üé≠ STEP 4: Gemini Meal Plan Generation
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üìù Input Data Analysis:
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ User Prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Retrieved Recipes Count: 27
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ AI-Enhanced Recipes: True
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:ü§ñ Using AI-enhanced meal plan generation with similarity scores
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üìä Analyzing recipe collections and user context...
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üìÇ Recipe Collections Organized:
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ baked-breads: 4 recipes (avg score: 0.611)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ fresh-cold: 4 recipes (avg score: 0.549)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ comfort-cooked: 4 recipes (avg score: 0.577)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ desserts-sweets: 4 recipes (avg score: 0.579)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ breakfast-morning: 2 recipes (avg score: 0.612)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ plant-based: 3 recipes (avg score: 0.549)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ protein-mains: 3 recipes (avg score: 0.473)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ quick-light: 3 recipes (avg score: 0.500)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üë§ User Preferences Available in Recipe Data: True
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üîç Extracting User Context for Prompt:
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Dietary Restrictions: []
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Allergies: []
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Cuisine Preferences: []
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Cooking Style: []
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Spice Tolerance: medium
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:‚úçÔ∏è Constructing Enhanced Prompt for Gemini...
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üì§ EXACT PROMPT SENT TO GEMINI:
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:
mealmateai-meal-planner-service-1  |             Create a personalized meal plan based on this request: I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | 
mealmateai-meal-planner-service-1  | 
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             USER PROFILE CONTEXT:
mealmateai-meal-planner-service-1  |             - Dietary Restrictions: 
mealmateai-meal-planner-service-1  |             - Allergies: 
mealmateai-meal-planner-service-1  |             - Cuisine Preferences: 
mealmateai-meal-planner-service-1  |             - Cooking Style: 
mealmateai-meal-planner-service-1  |             - Spice Tolerance: medium
mealmateai-meal-planner-service-1  |             - Portion Preference: medium
mealmateai-meal-planner-service-1  |             - Disliked Ingredients: 
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             AVAILABLE AI-RECOMMENDED RECIPES (organized by collection with similarity scores):
mealmateai-meal-planner-service-1  |             {
mealmateai-meal-planner-service-1  |   "baked-breads": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "3141",
mealmateai-meal-planner-service-1  |       "recipe_id": "3141",
mealmateai-meal-planner-service-1  |       "recipe_name": "BA's Best Bread",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['1 active dry yeast'",
mealmateai-meal-planner-service-1  |         "'117 g whole wheat flour 3'",
mealmateai-meal-planner-service-1  |         "'75 g rye flour 2'",
mealmateai-meal-planner-service-1  |         "'42 g all purpose flour preferably high protein around 11 such as king arthur'",
mealmateai-meal-planner-service-1  |         "'103 g whole wheat flour 3'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "baked-breads",
mealmateai-meal-planner-service-1  |       "summary": "This recipe for \"BA's Best Bread\" describes a multi-day process to create an artisan-style loaf using whole wheat, rye, and high-protein all-purpose flours. Key steps include an overnight poolish, autolysis, intensive slap-and-fold and stretch-and-fold techniques for gluten development, and a crucial 1-2 day cold fermentation for complex flavor. The bread is baked in a very hot Dutch oven and requires a lengthy cooling period for optimal texture.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.65170014,
mealmateai-meal-planner-service-1  |       "confidence": 25.0,
mealmateai-meal-planner-service-1  |       "user_preferences": {
mealmateai-meal-planner-service-1  |         "dietary_restrictions": [],
mealmateai-meal-planner-service-1  |         "allergies": [],
mealmateai-meal-planner-service-1  |         "cuisine_preferences": [],
mealmateai-meal-planner-service-1  |         "disliked_ingredients": []
mealmateai-meal-planner-service-1  |       }
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "9167",
mealmateai-meal-planner-service-1  |       "recipe_id": "9167",
mealmateai-meal-planner-service-1  |       "recipe_name": "Basic Brioche",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['water at room temperature 70 to 90 f or 29'",
mealmateai-meal-planner-service-1  |         "'sugar scant 0 or 12'",
mealmateai-meal-planner-service-1  |         "'instant yeast 1 0'",
mealmateai-meal-planner-service-1  |         "'unbleached all purpose flour use only gold medal king arthur or pillsbury 1 2'",
mealmateai-meal-planner-service-1  |         "'eggs 1 large egg weighed in"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "baked-breads",
mealmateai-meal-planner-service-1  |       "summary": "This is a comprehensive recipe for **Basic Brioche**, a rich, soft, buttery, and slightly sweet enriched bread. The detailed instructions guide users through a multi-day process involving a sponge starter, a high ratio of butter and eggs, and extended chilling (up to 2 days) to manage the initially sticky dough and develop flavor. The recipe outlines multiple rises, including a \"business letter turn\" for texture, and shaping into traditional individual brioche with topknots, baked with an egg gl",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6243709,
mealmateai-meal-planner-service-1  |       "confidence": 121.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "2546",
mealmateai-meal-planner-service-1  |       "recipe_id": "2546",
mealmateai-meal-planner-service-1  |       "recipe_name": "Beef and Potato Pasties",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['2 1 all purpose flour plus more for surface'",
mealmateai-meal-planner-service-1  |         "'kosher salt divided plus more'",
mealmateai-meal-planner-service-1  |         "'10 1 unsalted butter divided plus more for serving'",
mealmateai-meal-planner-service-1  |         "'3 boneless chuck steak cut into 1 2 cubes'",
mealmateai-meal-planner-service-1  |         "'1 medium russet pot"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "baked-breads",
mealmateai-meal-planner-service-1  |       "summary": "This recipe is for **Beef and Potato Pasties**, savory handheld pies with a flaky pastry crust.\n\n**Key Ingredients:** The filling consists of boneless chuck steak, russet potatoes, and onion, seasoned with salt and pepper. The dough is made from all-purpose flour, butter, and boiling water, with an egg wash for the crust.\n\n**Preparation:** A simple pastry dough is prepared, divided, and chilled. The filling ingredients are mixed. Each dough round is filled with the beef, potato, and onion mixtur",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.58404464,
mealmateai-meal-planner-service-1  |       "confidence": 13.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "540",
mealmateai-meal-planner-service-1  |       "recipe_id": "540",
mealmateai-meal-planner-service-1  |       "recipe_name": "Whole Grain Shortbread with Einkorn and Rye Flour",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['plus 2 tbsp unsalted butter very soft'",
mealmateai-meal-planner-service-1  |         "'1 2 tsp salt'",
mealmateai-meal-planner-service-1  |         "'plus 1 tbsp einkorn flour'",
mealmateai-meal-planner-service-1  |         "'3 plus 1 tbsp rye flour'",
mealmateai-meal-planner-service-1  |         "'1 rice flour'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "baked-breads",
mealmateai-meal-planner-service-1  |       "summary": "Here are the concise summaries for each recipe:\n\n**Whole Grain Shortbread with Einkorn and Rye Flour:**\nThis recipe details how to make whole grain shortbread cookies using einkorn and rye flours. The dough, made from butter, salt, a blend of flours, cornstarch, and sugar, is pressed into a baking dish, baked until lightly browned, then cut into fingers while warm. The shortbread can be topped with superfine sugar or dipped in chocolate.\n\n**Pumpkin Kolokithopita (Greek Phyllo Pastries):**\nThis r",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.58248967,
mealmateai-meal-planner-service-1  |       "confidence": 21.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "fresh-cold": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "3352",
mealmateai-meal-planner-service-1  |       "recipe_id": "3352",
mealmateai-meal-planner-service-1  |       "recipe_name": "Celery on Celery Salad",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['1 olive oil'",
mealmateai-meal-planner-service-1  |         "'finely grated lemon zest'",
mealmateai-meal-planner-service-1  |         "'fresh lemon juice'",
mealmateai-meal-planner-service-1  |         "'kosher salt freshly ground pepper'",
mealmateai-meal-planner-service-1  |         "'1 chopped fresh parsley'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "fresh-cold",
mealmateai-meal-planner-service-1  |       "summary": "A fresh salad featuring thinly sliced celery root and celery stalks, tossed in a bright lemon, parsley, and caper dressing.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.64976645,
mealmateai-meal-planner-service-1  |       "confidence": 6.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "12718",
mealmateai-meal-planner-service-1  |       "recipe_id": "12718",
mealmateai-meal-planner-service-1  |       "recipe_name": "Shrimp, Cucumber, and Mango Salad",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['distilled white vinegar'",
mealmateai-meal-planner-service-1  |         "'sugar'",
mealmateai-meal-planner-service-1  |         "'dijon mustard'",
mealmateai-meal-planner-service-1  |         "'mayonnaise'",
mealmateai-meal-planner-service-1  |         "'4 large pickling cucumbers peeled cut into 1 2 inch cubes about'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "fresh-cold",
mealmateai-meal-planner-service-1  |       "summary": "A refreshing salad featuring cooked shrimp, diced cucumber, and sweet mango, tossed with fresh dill and a tangy mayonnaise-based dressing, and served over crisp bibb lettuce leaves.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6444896,
mealmateai-meal-planner-service-1  |       "confidence": 7.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "1571",
mealmateai-meal-planner-service-1  |       "recipe_id": "1571",
mealmateai-meal-planner-service-1  |       "recipe_name": "Relish Tray",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "1 2 recipe quick pickled carrots",
mealmateai-meal-planner-service-1  |         "5 celery stalks cut into 4 5 logs",
mealmateai-meal-planner-service-1  |         "1 bunch radishes halved if large",
mealmateai-meal-planner-service-1  |         "cornichons drained",
mealmateai-meal-planner-service-1  |         "pitted black olives"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "fresh-cold",
mealmateai-meal-planner-service-1  |       "summary": "Relish Tray: A classic relish tray featuring an assortment of quick pickled carrots, fresh celery and radishes, cornichons, and black olives, served on crushed ice.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.4588415,
mealmateai-meal-planner-service-1  |       "confidence": 5.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "3279",
mealmateai-meal-planner-service-1  |       "recipe_id": "3279",
mealmateai-meal-planner-service-1  |       "recipe_name": "Slow-Roasted Char with Fennel Salad",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['1 unseasoned rice vinegar'",
mealmateai-meal-planner-service-1  |         "'sugar'",
mealmateai-meal-planner-service-1  |         "'caraway seeds'",
mealmateai-meal-planner-service-1  |         "'kosher salt plus more'",
mealmateai-meal-planner-service-1  |         "'6 garlic cloves thinly sliced'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "fresh-cold",
mealmateai-meal-planner-service-1  |       "summary": "A light and elegant dish featuring slow-roasted arctic char (or salmon) served atop a vibrant and zesty salad of quick-pickled fennel with preserved lemon and dill.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.4436,
mealmateai-meal-planner-service-1  |       "confidence": 9.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "comfort-cooked": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "12743",
mealmateai-meal-planner-service-1  |       "recipe_id": "12743",
mealmateai-meal-planner-service-1  |       "recipe_name": "Barley and Lentil Soup with Swiss Chard",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['olive oil'",
mealmateai-meal-planner-service-1  |         "'1 1 chopped onions'",
mealmateai-meal-planner-service-1  |         "'1 1 chopped peeled carrots'",
mealmateai-meal-planner-service-1  |         "'3 large garlic cloves minced'",
mealmateai-meal-planner-service-1  |         "'2 1 ground cumin'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "comfort-cooked",
mealmateai-meal-planner-service-1  |       "summary": "A hearty soup featuring barley, lentils, and Swiss chard, simmered in a flavorful broth with saut\u00e9ed onions, carrots, garlic, cumin, and diced tomatoes, finished with fresh dill.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.64889055,
mealmateai-meal-planner-service-1  |       "confidence": 10.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "8044",
mealmateai-meal-planner-service-1  |       "recipe_id": "8044",
mealmateai-meal-planner-service-1  |       "recipe_name": "Pork Stew with Hard Cider, Pearl Onions, and Potatoes",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['30 1 inch diameter pearl onions from two 10 ounce bags'",
mealmateai-meal-planner-service-1  |         "'5 slices thick cut bacon preferably applewood smoked cut crosswise into 1 4 inch thick strips'",
mealmateai-meal-planner-service-1  |         "'3 1 boneless pork shoulder boston butt or b"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "comfort-cooked",
mealmateai-meal-planner-service-1  |       "summary": "A hearty and flavorful pork stew featuring tender pork shoulder, pearl onions, and potatoes. Braised in a rich broth with hard apple cider and optional Calvados apple brandy, it includes crispy bacon, aromatic shallots, parsnips, and fresh sage, with Granny Smith apples added for a touch of tartness. Slowly simmered until the pork is fall-apart tender, this stew can be made ahead for convenience.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.619404,
mealmateai-meal-planner-service-1  |       "confidence": 28.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "11074",
mealmateai-meal-planner-service-1  |       "recipe_id": "11074",
mealmateai-meal-planner-service-1  |       "recipe_name": "Potato, Cheddar, and Chive Soup",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['4 large potatoes peeled and sliced'",
mealmateai-meal-planner-service-1  |         "'chicken stock plus more as needed'",
mealmateai-meal-planner-service-1  |         "'1 large clove garlic'",
mealmateai-meal-planner-service-1  |         "'shredded sharp cheddar cheese or a mixture of sharp cheddar and smoked gouda'",
mealmateai-meal-planner-service-1  |         "'1 chopped fresh chi"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "comfort-cooked",
mealmateai-meal-planner-service-1  |       "summary": "This recipe details a Potato, Cheddar, and Chive Soup prepared in a slow cooker. Large potatoes are cooked in chicken stock until tender, then part of them are blended with garlic to a smooth or rustic consistency. This pur\u00e9e is returned to the slow cooker with shredded cheddar, chives, and more stock, then heated. The soup is seasoned with salt and pepper, optionally finished with cream, and garnished with crumbled cheese. A Southwestern variation using cilantro, green chiles, cumin, and corian",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.528253,
mealmateai-meal-planner-service-1  |       "confidence": 16.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "10022",
mealmateai-meal-planner-service-1  |       "recipe_id": "10022",
mealmateai-meal-planner-service-1  |       "recipe_name": "Lemongrass Consomm\u00e9 with Matzoh Balls, Leeks, and Shiitake Mushrooms",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['vegetable oil'",
mealmateai-meal-planner-service-1  |         "'4 large eggs'",
mealmateai-meal-planner-service-1  |         "'matzoh meal'",
mealmateai-meal-planner-service-1  |         "'salt'",
mealmateai-meal-planner-service-1  |         "'4 quarts chicken stock or low sodium chicken broth'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "comfort-cooked",
mealmateai-meal-planner-service-1  |       "summary": "A refined soup featuring scratch-made matzoh balls, gently poached leeks, and shiitake mushrooms. These components are served in a warm, flavorful lemongrass consomm\u00e9 (prepared separately) and garnished with fresh parsley.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5110722,
mealmateai-meal-planner-service-1  |       "confidence": 14.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "desserts-sweets": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "13398",
mealmateai-meal-planner-service-1  |       "recipe_id": "13398",
mealmateai-meal-planner-service-1  |       "recipe_name": "Marbled Chocolate and Strawberry Galettes",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['all purpose flour'",
mealmateai-meal-planner-service-1  |         "'1 sugar'",
mealmateai-meal-planner-service-1  |         "'1 salt'",
mealmateai-meal-planner-service-1  |         "'3 1 1 2 sticks chilled unsalted butter cut into 1 2 inch pieces'",
mealmateai-meal-planner-service-1  |         "'or more ice water'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "desserts-sweets",
mealmateai-meal-planner-service-1  |       "summary": "Marbled Chocolate and Strawberry Galettes: Free-form tarts with a flaky crust, filled with marbled bittersweet and white chocolate, and topped with fresh strawberries and a red currant glaze.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6315713,
mealmateai-meal-planner-service-1  |       "confidence": 23.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "10250",
mealmateai-meal-planner-service-1  |       "recipe_id": "10250",
mealmateai-meal-planner-service-1  |       "recipe_name": "Bittersweet Chocolate Pudding Pie with Cr\u00e8me Fra\u00eeche Topping",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['chocolate wafer cookie crumbs about half of one 9 ounce package about 23 cookies finely ground in processor'",
mealmateai-meal-planner-service-1  |         "'sugar'",
mealmateai-meal-planner-service-1  |         "'unsalted butter melted'",
mealmateai-meal-planner-service-1  |         "'bittersweet chocolate 60 cacao finely chopped'",
mealmateai-meal-planner-service-1  |         "'1 s"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "desserts-sweets",
mealmateai-meal-planner-service-1  |       "summary": "A decadent pie with a chocolate wafer crust and a rich, no-bake bittersweet chocolate pudding filling, topped with a light and fluffy cr\u00e8me fra\u00eeche whipped cream.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6288501,
mealmateai-meal-planner-service-1  |       "confidence": 23.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "1408",
mealmateai-meal-planner-service-1  |       "recipe_id": "1408",
mealmateai-meal-planner-service-1  |       "recipe_name": "Sweet Potato Rice Crispies",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['3 tbsp 42 g butter'",
mealmateai-meal-planner-service-1  |         "'1 60 g pureed sweet potato about 1 small sweet potato'",
mealmateai-meal-planner-service-1  |         "'1 tbsp vanilla extract'",
mealmateai-meal-planner-service-1  |         "'1 tsp salt'",
mealmateai-meal-planner-service-1  |         "'11 2 tsp 4 g ground cinnamon'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "desserts-sweets",
mealmateai-meal-planner-service-1  |       "summary": "A chewy, sweet treat resembling traditional rice crispy treats, but enhanced with pureed sweet potato, cinnamon, nutmeg, and pecans.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5386906,
mealmateai-meal-planner-service-1  |       "confidence": 11.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "8427",
mealmateai-meal-planner-service-1  |       "recipe_id": "8427",
mealmateai-meal-planner-service-1  |       "recipe_name": "Monster Eyeballs",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['1 1 creamy peanut butter'",
mealmateai-meal-planner-service-1  |         "'1 1 stick butter at room temperature'",
mealmateai-meal-planner-service-1  |         "'1 1 pound package confectioners sugar about vanilla extract'",
mealmateai-meal-planner-service-1  |         "'1 12 ounce package semisweet chocolate chips'",
mealmateai-meal-planner-service-1  |         "'solid vegetable sho"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "desserts-sweets",
mealmateai-meal-planner-service-1  |       "summary": "Spooky Halloween treats made from peanut butter and confectioners' sugar balls, partially dipped in melted chocolate and decorated with M&Ms to resemble eyeballs.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5166747,
mealmateai-meal-planner-service-1  |       "confidence": 20.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "breakfast-morning": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "714",
mealmateai-meal-planner-service-1  |       "recipe_id": "714",
mealmateai-meal-planner-service-1  |       "recipe_name": "Quick Breakfast Quinoa",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['dry quinoa'",
mealmateai-meal-planner-service-1  |         "'water'",
mealmateai-meal-planner-service-1  |         "'1 medium apple cored and diced'",
mealmateai-meal-planner-service-1  |         "'1 raw almonds chopped'",
mealmateai-meal-planner-service-1  |         "'fresh or thawed frozen blueberries'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "breakfast-morning",
mealmateai-meal-planner-service-1  |       "summary": "Quick Breakfast Quinoa: A warm breakfast featuring cooked quinoa mixed with diced apple, chopped almonds, blueberries, raisins, cinnamon, and plant-based milk.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6152158,
mealmateai-meal-planner-service-1  |       "confidence": 9.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "3226",
mealmateai-meal-planner-service-1  |       "recipe_id": "3226",
mealmateai-meal-planner-service-1  |       "recipe_name": "Breakfast Bowl With Quinoa and Berries",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['mixed berries raspberries strawberries blueberries blackberries'",
mealmateai-meal-planner-service-1  |         "'hemp hearts available in the natural section of most supermarkets in a variety of brands'",
mealmateai-meal-planner-service-1  |         "'20 whole almonds toasted and chopped'",
mealmateai-meal-planner-service-1  |         ""
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "breakfast-morning",
mealmateai-meal-planner-service-1  |       "summary": "Breakfast Bowl With Quinoa and Berries: A simple breakfast bowl combining cooked quinoa, mixed berries, hemp hearts, and chopped almonds.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.608019,
mealmateai-meal-planner-service-1  |       "confidence": 6.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "plant-based": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "11870",
mealmateai-meal-planner-service-1  |       "recipe_id": "11870",
mealmateai-meal-planner-service-1  |       "recipe_name": "Curried Red Lentil and Swiss Chard Stew with Garbanzo Beans",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['olive oil'",
mealmateai-meal-planner-service-1  |         "'1 large onion thinly sliced'",
mealmateai-meal-planner-service-1  |         "'curry powder'",
mealmateai-meal-planner-service-1  |         "'1 cayenne pepper'",
mealmateai-meal-planner-service-1  |         "'3 14 ounce cans vegetable broth'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "plant-based",
mealmateai-meal-planner-service-1  |       "summary": "A hearty vegetarian stew featuring red lentils, Swiss chard, and garbanzo beans, seasoned with curry and cayenne, and finished with a dollop of plain yogurt.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6043273,
mealmateai-meal-planner-service-1  |       "confidence": 6.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "10125",
mealmateai-meal-planner-service-1  |       "recipe_id": "10125",
mealmateai-meal-planner-service-1  |       "recipe_name": "Veggie Tacos",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['1 small eggplant cut into 1 2 inch cubes'",
mealmateai-meal-planner-service-1  |         "'1 1 coarse salt'",
mealmateai-meal-planner-service-1  |         "'olive oil'",
mealmateai-meal-planner-service-1  |         "'3 diced onion'",
mealmateai-meal-planner-service-1  |         "'2 cloves of garlic finely chopped'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "plant-based",
mealmateai-meal-planner-service-1  |       "summary": "Veggie Tacos: Vegetarian tacos filled with a hearty, flavorful stew of saut\u00e9ed eggplant, diced bell peppers, onions, tomatoes, kidney beans, and chickpeas, seasoned with chili powder and cumin.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.578354,
mealmateai-meal-planner-service-1  |       "confidence": 9.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "4978",
mealmateai-meal-planner-service-1  |       "recipe_id": "4978",
mealmateai-meal-planner-service-1  |       "recipe_name": "Good Gravy Bowl with Broccoli & Seitan",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['olive oil'",
mealmateai-meal-planner-service-1  |         "'1 medium yellow onion diced'",
mealmateai-meal-planner-service-1  |         "'3 cloves garlic chopped'",
mealmateai-meal-planner-service-1  |         "'pinch of salt'",
mealmateai-meal-planner-service-1  |         "'1 1 organic cornstarch'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "plant-based",
mealmateai-meal-planner-service-1  |       "summary": "A savory meal bowl featuring cooked quinoa topped with seared seitan, steamed broccoli, and a rich, pureed lentil and miso gravy.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.46554992,
mealmateai-meal-planner-service-1  |       "confidence": 9.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "protein-mains": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "11604",
mealmateai-meal-planner-service-1  |       "recipe_id": "11604",
mealmateai-meal-planner-service-1  |       "recipe_name": "Sauteed Chicken Breasts with Country Ham and Summer Succotash",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['extra virgin olive oil divided'",
mealmateai-meal-planner-service-1  |         "'chopped onion'",
mealmateai-meal-planner-service-1  |         "'1 red bell pepper cut into 1 3 inch dice'",
mealmateai-meal-planner-service-1  |         "'4 1 fresh thyme leaves divided'",
mealmateai-meal-planner-service-1  |         "'2 garlic cloves minced'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "protein-mains",
mealmateai-meal-planner-service-1  |       "summary": "A protein-rich main course of saut\u00e9ed boneless chicken breasts, pounded thin with a slice of country ham. It's served with a vibrant summer succotash, a creamy mix of fresh corn, bell pepper, green beans, zucchini, onion, garlic, and thyme.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5138676,
mealmateai-meal-planner-service-1  |       "confidence": 17.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "12027",
mealmateai-meal-planner-service-1  |       "recipe_id": "12027",
mealmateai-meal-planner-service-1  |       "recipe_name": "Chicken, Asparagus, and Broccoli Stir-Fry",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['asian sesame oil divided'",
mealmateai-meal-planner-service-1  |         "'2 garlic cloves chopped'",
mealmateai-meal-planner-service-1  |         "'1 1 2 inch pieces asparagus'",
mealmateai-meal-planner-service-1  |         "'small broccoli florets'",
mealmateai-meal-planner-service-1  |         "'low salt chicken broth divided'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "protein-mains",
mealmateai-meal-planner-service-1  |       "summary": "A stir-fry dish featuring thinly sliced chicken breast, asparagus, broccoli, and green onions, tossed in a savory hoisin and oyster sauce.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5098114,
mealmateai-meal-planner-service-1  |       "confidence": 10.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "7873",
mealmateai-meal-planner-service-1  |       "recipe_id": "7873",
mealmateai-meal-planner-service-1  |       "recipe_name": "Mom's Meatloaf",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['ground beef'",
mealmateai-meal-planner-service-1  |         "'1 2 small box saltines or similar crackers'",
mealmateai-meal-planner-service-1  |         "'2 eggs'",
mealmateai-meal-planner-service-1  |         "'milk'",
mealmateai-meal-planner-service-1  |         "'2 large green peppers chopped'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "protein-mains",
mealmateai-meal-planner-service-1  |       "summary": "A homestyle meatloaf featuring ground beef mixed with crumbled crackers, eggs, and milk, formed into loaves, browned, and then slow-simmered in a rich tomato-based sauce with saut\u00e9ed green peppers, onions, and mushrooms.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.39572507,
mealmateai-meal-planner-service-1  |       "confidence": 15.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "quick-light": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "4718",
mealmateai-meal-planner-service-1  |       "recipe_id": "4718",
mealmateai-meal-planner-service-1  |       "recipe_name": "Eggplant \"Tacos\"",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "1 eggplant",
mealmateai-meal-planner-service-1  |         "olive oil",
mealmateai-meal-planner-service-1  |         "salt",
mealmateai-meal-planner-service-1  |         "brie",
mealmateai-meal-planner-service-1  |         "cilantro or basil"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "quick-light",
mealmateai-meal-planner-service-1  |       "summary": "Roasted eggplant rounds topped with creamy Brie and fresh herbs (cilantro or basil), folded like mini tacos.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.50178516,
mealmateai-meal-planner-service-1  |       "confidence": 3.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "3207",
mealmateai-meal-planner-service-1  |       "recipe_id": "3207",
mealmateai-meal-planner-service-1  |       "recipe_name": "Roasted Veg With Nutritional Yeast",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['2 small heads of broccoli cut into florets with some stalk attached or 1 medium acorn squash seeds removed cut into 1 2 inch slices'",
mealmateai-meal-planner-service-1  |         "'virgin coconut oil warmed to liquefy if needed'",
mealmateai-meal-planner-service-1  |         "'kosher salt f"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "quick-light",
mealmateai-meal-planner-service-1  |       "summary": "A simple plant-based side dish featuring *roasted vegetables* (broccoli or acorn squash) seasoned with salt and pepper, then tossed with *nutritional yeast* post-roasting for a savory, *cheesy flavor*. Cooked at 425\u00b0F for 20-25 minutes, it's a quick and easy option that can be made up to 5 days ahead.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5013095,
mealmateai-meal-planner-service-1  |       "confidence": 3.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "2010",
mealmateai-meal-planner-service-1  |       "recipe_id": "2010",
mealmateai-meal-planner-service-1  |       "recipe_name": "Cocoa-Nut Energy Bites",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['virgin coconut oil melted cooled plus more for pan'",
mealmateai-meal-planner-service-1  |         "'cacao nibs'",
mealmateai-meal-planner-service-1  |         "'pitted medjool dates about 8'",
mealmateai-meal-planner-service-1  |         "'1 nut butter'",
mealmateai-meal-planner-service-1  |         "'ground chia seeds ground flaxseed and or ground hemp seeds'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "quick-light",
mealmateai-meal-planner-service-1  |       "summary": "A no-bake recipe for chewy energy bites featuring dates, cacao nibs, shredded coconut, and nut butter. Prepared easily in a food processor and chilled until firm, these plant-based, refined sugar-free snacks are excellent for make-ahead convenience.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.49652377,
mealmateai-meal-planner-service-1  |       "confidence": 3.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ]
mealmateai-meal-planner-service-1  | }
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             INSTRUCTIONS:
mealmateai-meal-planner-service-1  |             1. Prioritize recipes with higher similarity_score (closer to 1.0) as they better match user intent
mealmateai-meal-planner-service-1  |             2. Use recipe collections for smart meal type assignment:
mealmateai-meal-planner-service-1  |                - breakfast-morning: breakfast meals
mealmateai-meal-planner-service-1  |                - desserts-sweets: desserts or sweet snacks  
mealmateai-meal-planner-service-1  |                - protein-mains: lunch/dinner main courses
mealmateai-meal-planner-service-1  |                - quick-light: light meals, snacks, quick options
mealmateai-meal-planner-service-1  |                - fresh-cold: salads, cold preparations
mealmateai-meal-planner-service-1  |                - baked-breads: baked goods, bread-based meals
mealmateai-meal-planner-service-1  |                - comfort-cooked: hearty dinner meals
mealmateai-meal-planner-service-1  |                - plant-based: vegetarian/vegan options
mealmateai-meal-planner-service-1  |             3. Ensure variety across different collections and meal types
mealmateai-meal-planner-service-1  |             4. Balance nutrition by including different types of recipes
mealmateai-meal-planner-service-1  |             5. Create 7 days with 3 meals per day unless user specifies otherwise
mealmateai-meal-planner-service-1  |             6. Include similarity scores in the output for transparency
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             Return JSON format:
mealmateai-meal-planner-service-1  |             {
mealmateai-meal-planner-service-1  |                 "meal_plan": [
mealmateai-meal-planner-service-1  |                     {
mealmateai-meal-planner-service-1  |                         "day": 1,
mealmateai-meal-planner-service-1  |                         "meals": [
mealmateai-meal-planner-service-1  |                             {
mealmateai-meal-planner-service-1  |                                 "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |                                 "recipe_id": 123,
mealmateai-meal-planner-service-1  |                                 "recipe_name": "Recipe Name",
mealmateai-meal-planner-service-1  |                                 "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |                                 "similarity_score": 0.85
mealmateai-meal-planner-service-1  |                             }
mealmateai-meal-planner-service-1  |                         ]
mealmateai-meal-planner-service-1  |                     }
mealmateai-meal-planner-service-1  |                 ],
mealmateai-meal-planner-service-1  |                 "explanation": "Detailed explanation of meal plan choices, highlighting how AI recommendations were used to match your preferences"
mealmateai-meal-planner-service-1  |             }
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             CRITICAL: Output ONLY the JSON object. No markdown, no extra text.
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:‚è≥ Sending request to Gemini API...
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üì• EXACT RESPONSE FROM GEMINI:
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:```json
mealmateai-meal-planner-service-1  | {
mealmateai-meal-planner-service-1  |   "meal_plan": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 1,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "714",
mealmateai-meal-planner-service-1  |           "recipe_name": "Quick Breakfast Quinoa",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.6152158
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "11604",
mealmateai-meal-planner-service-1  |           "recipe_name": "Sauteed Chicken Breasts with Country Ham and Summer Succotash",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5138676
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "8044",
mealmateai-meal-planner-service-1  |           "recipe_name": "Pork Stew with Hard Cider, Pearl Onions, and Potatoes",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.619404
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 2,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "3226",
mealmateai-meal-planner-service-1  |           "recipe_name": "Breakfast Bowl With Quinoa and Berries",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.608019
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "12027",
mealmateai-meal-planner-service-1  |           "recipe_name": "Chicken, Asparagus, and Broccoli Stir-Fry",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5098114
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "12743",
mealmateai-meal-planner-service-1  |           "recipe_name": "Barley and Lentil Soup with Swiss Chard",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.64889055
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 3,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "714",
mealmateai-meal-planner-service-1  |           "recipe_name": "Quick Breakfast Quinoa",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.6152158
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "11604",
mealmateai-meal-planner-service-1  |           "recipe_name": "Sauteed Chicken Breasts with Country Ham and Summer Succotash",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5138676
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "8044",
mealmateai-meal-planner-service-1  |           "recipe_name": "Pork Stew with Hard Cider, Pearl Onions, and Potatoes",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.619404
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 4,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "3226",
mealmateai-meal-planner-service-1  |           "recipe_name": "Breakfast Bowl With Quinoa and Berries",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.608019
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "12027",
mealmateai-meal-planner-service-1  |           "recipe_name": "Chicken, Asparagus, and Broccoli Stir-Fry",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5098114
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "12743",
mealmateai-meal-planner-service-1  |           "recipe_name": "Barley and Lentil Soup with Swiss Chard",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.64889055
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 5,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "714",
mealmateai-meal-planner-service-1  |           "recipe_name": "Quick Breakfast Quinoa",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.6152158
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "11604",
mealmateai-meal-planner-service-1  |           "recipe_name": "Sauteed Chicken Breasts with Country Ham and Summer Succotash",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5138676
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "8044",
mealmateai-meal-planner-service-1  |           "recipe_name": "Pork Stew with Hard Cider, Pearl Onions, and Potatoes",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.619404
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 6,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "3226",
mealmateai-meal-planner-service-1  |           "recipe_name": "Breakfast Bowl With Quinoa and Berries",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.608019
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "12027",
mealmateai-meal-planner-service-1  |           "recipe_name": "Chicken, Asparagus, and Broccoli Stir-Fry",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5098114
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "12743",
mealmateai-meal-planner-service-1  |           "recipe_name": "Barley and Lentil Soup with Swiss Chard",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.64889055
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 7,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "714",
mealmateai-meal-planner-service-1  |           "recipe_name": "Quick Breakfast Quinoa",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.6152158
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "11604",
mealmateai-meal-planner-service-1  |           "recipe_name": "Sauteed Chicken Breasts with Country Ham and Summer Succotash",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5138676
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "8044",
mealmateai-meal-planner-service-1  |           "recipe_name": "Pork Stew with Hard Cider, Pearl Onions, and Potatoes",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.619404
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "explanation": "The meal plan focuses on providing high-protein and low-carb meals that are relatively easy to cook. For breakfast, a quinoa-based meal is suggested. Lunch options include chicken stir-fry and chicken breast dishes. Dinner features hearty stews and soups. The recipe selection avoids salads as per the user's request. The similarity scores indicate how well the AI judged the recipe matches your needs."
mealmateai-meal-planner-service-1  | }
mealmateai-meal-planner-service-1  | ```
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üîÑ Parsing Gemini response...
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Successfully generated and validated RAG meal plan
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:‚úÖ Gemini response parsed successfully
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üìä STEP 5: Adding Enhanced Metadata
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üìà Quality Metrics:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Average Recipe Similarity: 0.558
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Collections Used: ['fresh-cold', 'plant-based', 'breakfast-morning', 'quick-light', 'desserts-sweets', 'protein-mains', 'baked-breads', 'comfort-cooked']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ User Preferences Applied: True
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üéâ RAG MEAL PLAN THINKING PROCESS COMPLETE
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:‚úÖ Final Meal Plan Generated:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Recipes Found: 27
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ AI Enhanced: True
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Processing Quality: 0.558 average similarity
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Collections: 8 different types
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:     172.25.0.8:41864 - "POST /rag/generate HTTP/1.1" 200 OK
mealmateai-meal-planner-service-1  | INFO:     Shutting down
mealmateai-meal-planner-service-1  | INFO:     Waiting for application shutdown.
mealmateai-meal-planner-service-1  | INFO:     Application shutdown complete.
mealmateai-meal-planner-service-1  | INFO:     Finished server process [1]
mealmateai-meal-planner-service-1  | /usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:261: UserWarning: Valid config keys have changed in V2:
mealmateai-meal-planner-service-1  | * 'orm_mode' has been renamed to 'from_attributes'
mealmateai-meal-planner-service-1  |   warnings.warn(message, UserWarning)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: query_generation
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: meal_plan_generation
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: modification_queries
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Loaded prompt template: plan_modification
mealmateai-meal-planner-service-1  | INFO:     Started server process [1]
mealmateai-meal-planner-service-1  | INFO:     Waiting for application startup.
mealmateai-meal-planner-service-1  | INFO:     Application startup complete.
mealmateai-meal-planner-service-1  | INFO:     Uvicorn running on http://0.0.0.0:8002 (Press CTRL+C to quit)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üß† STARTING RAG MEAL PLAN THINKING PROCESS
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üìã STEP 1: Gathering User Context
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üë§ User ID: 1
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üí¨ Original Prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üéØ User Preferences Retrieved:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Dietary Restrictions: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Allergies: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Cuisine Preferences: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Cooking Style: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Spice Tolerance: unknown
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Portion Preference: unknown
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üìö STEP 2: Analyzing Meal Plan History
mealmateai-meal-planner-service-1  | ERROR:app.services.meal_plan_service:Error getting user meal plans: (psycopg2.errors.UndefinedColumn) column meal_plans.conversation_data does not exist
mealmateai-meal-planner-service-1  | LINE 1: ....plan_explanation AS meal_plans_plan_explanation, meal_plans...
mealmateai-meal-planner-service-1  |                                                              ^
mealmateai-meal-planner-service-1  | 
mealmateai-meal-planner-service-1  | 
mealmateai-meal-planner-service-1  | [SQL: SELECT meal_plans.id AS meal_plans_id, meal_plans.user_id AS meal_plans_user_id, meal_plans.plan_name AS meal_plans_plan_name, meal_plans.created_at AS meal_plans_created_at, meal_plans.updated_at AS meal_plans_updated_at, meal_plans.days AS meal_plans_days, meal_plans.meals_per_day AS meal_plans_meals_per_day, meal_plans.plan_data AS meal_plans_plan_data, meal_plans.plan_explanation AS meal_plans_plan_explanation, meal_plans.conversation_data AS meal_plans_conversation_data, meal_plans.conversation_title AS meal_plans_conversation_title, meal_plans.original_prompt AS meal_plans_original_prompt 
mealmateai-meal-planner-service-1  | FROM meal_plans 
mealmateai-meal-planner-service-1  | WHERE meal_plans.user_id = %(user_id_1)s 
mealmateai-meal-planner-service-1  |  LIMIT %(param_1)s OFFSET %(param_2)s]
mealmateai-meal-planner-service-1  | [parameters: {'user_id_1': 1, 'param_1': 100, 'param_2': 0}]
mealmateai-meal-planner-service-1  | (Background on this error at: https://sqlalche.me/e/20/f405)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üóÇÔ∏è Recent Meal Plans (last 3): []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚ö™ No previous meal plans found - first time user
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | ü§ñ STEP 3: AI-Powered Recipe Recommendations
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üîç Searching for recipes with enhanced context...
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üîÑ Converting prompt to conversation format...
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üí¨ Conversation History Sent to Recipe Service:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:[
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |         "role": "user",
mealmateai-meal-planner-service-1  |         "content": "I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs\n"
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  | ]
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üì§ Sending Request to Recipe Service RAG System:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Max Results: 50
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ User Preferences Included: True
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Preferences Data: {
mealmateai-meal-planner-service-1  |       "dietary_restrictions": [],
mealmateai-meal-planner-service-1  |       "allergies": [],
mealmateai-meal-planner-service-1  |       "cuisine_preferences": [],
mealmateai-meal-planner-service-1  |       "disliked_ingredients": []
mealmateai-meal-planner-service-1  | }
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | ‚ö° Calling Recipe Service /recommendations endpoint...
mealmateai-meal-planner-service-1  | INFO:httpx:HTTP Request: POST http://recipe-service:8001/recommendations "HTTP/1.1 200 OK"
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üì• Recipe Service Response Status: success
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üî¢ Total Results Returned: 27
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:‚úÖ SUCCESS: AI recommendations returned 27 recipes
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üîç Recipe Service Query Analysis:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Detected Preferences: ['high protein', 'low carbs']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Detected Restrictions: ['no salads']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Meal Context: meal plan
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Collections Searched: ['baked-breads', 'quick-light', 'protein-mains', 'comfort-cooked', 'desserts-sweets', 'breakfast-morning', 'plant-based', 'fresh-cold']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Processing Time: 12417ms
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üéØ Generated Queries by Collection:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     baked-breads: ['fresh bread recipes', 'homemade pastries']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     quick-light: ['quick meal ideas', 'light lunch recipes']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     protein-mains: ['main course dishes', 'protein-rich meals']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     comfort-cooked: ['comfort food recipes', 'hearty stews']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     desserts-sweets: ['sweet treats', 'dessert recipes']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     breakfast-morning: ['breakfast ideas', 'morning meals']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     plant-based: ['vegetarian recipes', 'plant-based meals']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:     fresh-cold: ['fresh salads', 'cold dishes']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üìã Sample Retrieved Recipes (top 5):
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   1. BA's Best Bread (Collection: baked-breads, Score: 0.652)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   2. Celery on Celery Salad (Collection: fresh-cold, Score: 0.650)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   3. Barley and Lentil Soup with Swiss Chard (Collection: comfort-cooked, Score: 0.649)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   4. Shrimp, Cucumber, and Mango Salad (Collection: fresh-cold, Score: 0.644)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   5. Marbled Chocolate and Strawberry Galettes (Collection: desserts-sweets, Score: 0.632)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üîÑ Converting 27 recipes to meal plan format...
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:‚úÖ Added user preferences to recipe data for Gemini context
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:‚úÖ Recipe conversion complete: 27 recipes ready for meal plan generation
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üé≠ STEP 4: Meal Plan Generation with 27 recipes
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:
mealmateai-meal-planner-service-1  | üé≠ STEP 4: Gemini Meal Plan Generation
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üìù Input Data Analysis:
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ User Prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Retrieved Recipes Count: 27
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ AI-Enhanced Recipes: True
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:ü§ñ Using AI-enhanced meal plan generation with similarity scores
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üìä Analyzing recipe collections and user context...
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üìÇ Recipe Collections Organized:
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ baked-breads: 4 recipes (avg score: 0.611)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ fresh-cold: 4 recipes (avg score: 0.549)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ comfort-cooked: 4 recipes (avg score: 0.577)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ desserts-sweets: 4 recipes (avg score: 0.579)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ breakfast-morning: 2 recipes (avg score: 0.612)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ plant-based: 3 recipes (avg score: 0.549)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ protein-mains: 3 recipes (avg score: 0.473)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ quick-light: 3 recipes (avg score: 0.500)
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üë§ User Preferences Available in Recipe Data: True
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üîç Extracting User Context for Prompt:
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Dietary Restrictions: []
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Allergies: []
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Cuisine Preferences: []
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Cooking Style: []
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:   ‚Ä¢ Spice Tolerance: medium
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:‚úçÔ∏è Constructing Enhanced Prompt for Gemini...
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üì§ EXACT PROMPT SENT TO GEMINI:
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:
mealmateai-meal-planner-service-1  |             Create a personalized meal plan based on this request: I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | 
mealmateai-meal-planner-service-1  | 
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             USER PROFILE CONTEXT:
mealmateai-meal-planner-service-1  |             - Dietary Restrictions: 
mealmateai-meal-planner-service-1  |             - Allergies: 
mealmateai-meal-planner-service-1  |             - Cuisine Preferences: 
mealmateai-meal-planner-service-1  |             - Cooking Style: 
mealmateai-meal-planner-service-1  |             - Spice Tolerance: medium
mealmateai-meal-planner-service-1  |             - Portion Preference: medium
mealmateai-meal-planner-service-1  |             - Disliked Ingredients: 
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             AVAILABLE AI-RECOMMENDED RECIPES (organized by collection with similarity scores):
mealmateai-meal-planner-service-1  |             {
mealmateai-meal-planner-service-1  |   "baked-breads": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "3141",
mealmateai-meal-planner-service-1  |       "recipe_id": "3141",
mealmateai-meal-planner-service-1  |       "recipe_name": "BA's Best Bread",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['1 active dry yeast'",
mealmateai-meal-planner-service-1  |         "'117 g whole wheat flour 3'",
mealmateai-meal-planner-service-1  |         "'75 g rye flour 2'",
mealmateai-meal-planner-service-1  |         "'42 g all purpose flour preferably high protein around 11 such as king arthur'",
mealmateai-meal-planner-service-1  |         "'103 g whole wheat flour 3'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "baked-breads",
mealmateai-meal-planner-service-1  |       "summary": "This recipe for \"BA's Best Bread\" describes a multi-day process to create an artisan-style loaf using whole wheat, rye, and high-protein all-purpose flours. Key steps include an overnight poolish, autolysis, intensive slap-and-fold and stretch-and-fold techniques for gluten development, and a crucial 1-2 day cold fermentation for complex flavor. The bread is baked in a very hot Dutch oven and requires a lengthy cooling period for optimal texture.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.65170014,
mealmateai-meal-planner-service-1  |       "confidence": 25.0,
mealmateai-meal-planner-service-1  |       "user_preferences": {
mealmateai-meal-planner-service-1  |         "dietary_restrictions": [],
mealmateai-meal-planner-service-1  |         "allergies": [],
mealmateai-meal-planner-service-1  |         "cuisine_preferences": [],
mealmateai-meal-planner-service-1  |         "disliked_ingredients": []
mealmateai-meal-planner-service-1  |       }
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "9167",
mealmateai-meal-planner-service-1  |       "recipe_id": "9167",
mealmateai-meal-planner-service-1  |       "recipe_name": "Basic Brioche",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['water at room temperature 70 to 90 f or 29'",
mealmateai-meal-planner-service-1  |         "'sugar scant 0 or 12'",
mealmateai-meal-planner-service-1  |         "'instant yeast 1 0'",
mealmateai-meal-planner-service-1  |         "'unbleached all purpose flour use only gold medal king arthur or pillsbury 1 2'",
mealmateai-meal-planner-service-1  |         "'eggs 1 large egg weighed in"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "baked-breads",
mealmateai-meal-planner-service-1  |       "summary": "This is a comprehensive recipe for **Basic Brioche**, a rich, soft, buttery, and slightly sweet enriched bread. The detailed instructions guide users through a multi-day process involving a sponge starter, a high ratio of butter and eggs, and extended chilling (up to 2 days) to manage the initially sticky dough and develop flavor. The recipe outlines multiple rises, including a \"business letter turn\" for texture, and shaping into traditional individual brioche with topknots, baked with an egg gl",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6243709,
mealmateai-meal-planner-service-1  |       "confidence": 121.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "2546",
mealmateai-meal-planner-service-1  |       "recipe_id": "2546",
mealmateai-meal-planner-service-1  |       "recipe_name": "Beef and Potato Pasties",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['2 1 all purpose flour plus more for surface'",
mealmateai-meal-planner-service-1  |         "'kosher salt divided plus more'",
mealmateai-meal-planner-service-1  |         "'10 1 unsalted butter divided plus more for serving'",
mealmateai-meal-planner-service-1  |         "'3 boneless chuck steak cut into 1 2 cubes'",
mealmateai-meal-planner-service-1  |         "'1 medium russet pot"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "baked-breads",
mealmateai-meal-planner-service-1  |       "summary": "This recipe is for **Beef and Potato Pasties**, savory handheld pies with a flaky pastry crust.\n\n**Key Ingredients:** The filling consists of boneless chuck steak, russet potatoes, and onion, seasoned with salt and pepper. The dough is made from all-purpose flour, butter, and boiling water, with an egg wash for the crust.\n\n**Preparation:** A simple pastry dough is prepared, divided, and chilled. The filling ingredients are mixed. Each dough round is filled with the beef, potato, and onion mixtur",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.58404464,
mealmateai-meal-planner-service-1  |       "confidence": 13.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "540",
mealmateai-meal-planner-service-1  |       "recipe_id": "540",
mealmateai-meal-planner-service-1  |       "recipe_name": "Whole Grain Shortbread with Einkorn and Rye Flour",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['plus 2 tbsp unsalted butter very soft'",
mealmateai-meal-planner-service-1  |         "'1 2 tsp salt'",
mealmateai-meal-planner-service-1  |         "'plus 1 tbsp einkorn flour'",
mealmateai-meal-planner-service-1  |         "'3 plus 1 tbsp rye flour'",
mealmateai-meal-planner-service-1  |         "'1 rice flour'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "baked-breads",
mealmateai-meal-planner-service-1  |       "summary": "Here are the concise summaries for each recipe:\n\n**Whole Grain Shortbread with Einkorn and Rye Flour:**\nThis recipe details how to make whole grain shortbread cookies using einkorn and rye flours. The dough, made from butter, salt, a blend of flours, cornstarch, and sugar, is pressed into a baking dish, baked until lightly browned, then cut into fingers while warm. The shortbread can be topped with superfine sugar or dipped in chocolate.\n\n**Pumpkin Kolokithopita (Greek Phyllo Pastries):**\nThis r",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.58248967,
mealmateai-meal-planner-service-1  |       "confidence": 21.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "fresh-cold": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "3352",
mealmateai-meal-planner-service-1  |       "recipe_id": "3352",
mealmateai-meal-planner-service-1  |       "recipe_name": "Celery on Celery Salad",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['1 olive oil'",
mealmateai-meal-planner-service-1  |         "'finely grated lemon zest'",
mealmateai-meal-planner-service-1  |         "'fresh lemon juice'",
mealmateai-meal-planner-service-1  |         "'kosher salt freshly ground pepper'",
mealmateai-meal-planner-service-1  |         "'1 chopped fresh parsley'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "fresh-cold",
mealmateai-meal-planner-service-1  |       "summary": "A fresh salad featuring thinly sliced celery root and celery stalks, tossed in a bright lemon, parsley, and caper dressing.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.64976645,
mealmateai-meal-planner-service-1  |       "confidence": 6.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "12718",
mealmateai-meal-planner-service-1  |       "recipe_id": "12718",
mealmateai-meal-planner-service-1  |       "recipe_name": "Shrimp, Cucumber, and Mango Salad",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['distilled white vinegar'",
mealmateai-meal-planner-service-1  |         "'sugar'",
mealmateai-meal-planner-service-1  |         "'dijon mustard'",
mealmateai-meal-planner-service-1  |         "'mayonnaise'",
mealmateai-meal-planner-service-1  |         "'4 large pickling cucumbers peeled cut into 1 2 inch cubes about'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "fresh-cold",
mealmateai-meal-planner-service-1  |       "summary": "A refreshing salad featuring cooked shrimp, diced cucumber, and sweet mango, tossed with fresh dill and a tangy mayonnaise-based dressing, and served over crisp bibb lettuce leaves.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6444896,
mealmateai-meal-planner-service-1  |       "confidence": 7.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "1571",
mealmateai-meal-planner-service-1  |       "recipe_id": "1571",
mealmateai-meal-planner-service-1  |       "recipe_name": "Relish Tray",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "1 2 recipe quick pickled carrots",
mealmateai-meal-planner-service-1  |         "5 celery stalks cut into 4 5 logs",
mealmateai-meal-planner-service-1  |         "1 bunch radishes halved if large",
mealmateai-meal-planner-service-1  |         "cornichons drained",
mealmateai-meal-planner-service-1  |         "pitted black olives"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "fresh-cold",
mealmateai-meal-planner-service-1  |       "summary": "Relish Tray: A classic relish tray featuring an assortment of quick pickled carrots, fresh celery and radishes, cornichons, and black olives, served on crushed ice.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.4588415,
mealmateai-meal-planner-service-1  |       "confidence": 5.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "3279",
mealmateai-meal-planner-service-1  |       "recipe_id": "3279",
mealmateai-meal-planner-service-1  |       "recipe_name": "Slow-Roasted Char with Fennel Salad",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['1 unseasoned rice vinegar'",
mealmateai-meal-planner-service-1  |         "'sugar'",
mealmateai-meal-planner-service-1  |         "'caraway seeds'",
mealmateai-meal-planner-service-1  |         "'kosher salt plus more'",
mealmateai-meal-planner-service-1  |         "'6 garlic cloves thinly sliced'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "fresh-cold",
mealmateai-meal-planner-service-1  |       "summary": "A light and elegant dish featuring slow-roasted arctic char (or salmon) served atop a vibrant and zesty salad of quick-pickled fennel with preserved lemon and dill.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.4436,
mealmateai-meal-planner-service-1  |       "confidence": 9.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "comfort-cooked": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "12743",
mealmateai-meal-planner-service-1  |       "recipe_id": "12743",
mealmateai-meal-planner-service-1  |       "recipe_name": "Barley and Lentil Soup with Swiss Chard",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['olive oil'",
mealmateai-meal-planner-service-1  |         "'1 1 chopped onions'",
mealmateai-meal-planner-service-1  |         "'1 1 chopped peeled carrots'",
mealmateai-meal-planner-service-1  |         "'3 large garlic cloves minced'",
mealmateai-meal-planner-service-1  |         "'2 1 ground cumin'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "comfort-cooked",
mealmateai-meal-planner-service-1  |       "summary": "A hearty soup featuring barley, lentils, and Swiss chard, simmered in a flavorful broth with saut\u00e9ed onions, carrots, garlic, cumin, and diced tomatoes, finished with fresh dill.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.64889055,
mealmateai-meal-planner-service-1  |       "confidence": 10.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "8044",
mealmateai-meal-planner-service-1  |       "recipe_id": "8044",
mealmateai-meal-planner-service-1  |       "recipe_name": "Pork Stew with Hard Cider, Pearl Onions, and Potatoes",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['30 1 inch diameter pearl onions from two 10 ounce bags'",
mealmateai-meal-planner-service-1  |         "'5 slices thick cut bacon preferably applewood smoked cut crosswise into 1 4 inch thick strips'",
mealmateai-meal-planner-service-1  |         "'3 1 boneless pork shoulder boston butt or b"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "comfort-cooked",
mealmateai-meal-planner-service-1  |       "summary": "A hearty and flavorful pork stew featuring tender pork shoulder, pearl onions, and potatoes. Braised in a rich broth with hard apple cider and optional Calvados apple brandy, it includes crispy bacon, aromatic shallots, parsnips, and fresh sage, with Granny Smith apples added for a touch of tartness. Slowly simmered until the pork is fall-apart tender, this stew can be made ahead for convenience.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.619404,
mealmateai-meal-planner-service-1  |       "confidence": 28.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "11074",
mealmateai-meal-planner-service-1  |       "recipe_id": "11074",
mealmateai-meal-planner-service-1  |       "recipe_name": "Potato, Cheddar, and Chive Soup",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['4 large potatoes peeled and sliced'",
mealmateai-meal-planner-service-1  |         "'chicken stock plus more as needed'",
mealmateai-meal-planner-service-1  |         "'1 large clove garlic'",
mealmateai-meal-planner-service-1  |         "'shredded sharp cheddar cheese or a mixture of sharp cheddar and smoked gouda'",
mealmateai-meal-planner-service-1  |         "'1 chopped fresh chi"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "comfort-cooked",
mealmateai-meal-planner-service-1  |       "summary": "This recipe details a Potato, Cheddar, and Chive Soup prepared in a slow cooker. Large potatoes are cooked in chicken stock until tender, then part of them are blended with garlic to a smooth or rustic consistency. This pur\u00e9e is returned to the slow cooker with shredded cheddar, chives, and more stock, then heated. The soup is seasoned with salt and pepper, optionally finished with cream, and garnished with crumbled cheese. A Southwestern variation using cilantro, green chiles, cumin, and corian",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.528253,
mealmateai-meal-planner-service-1  |       "confidence": 16.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "10022",
mealmateai-meal-planner-service-1  |       "recipe_id": "10022",
mealmateai-meal-planner-service-1  |       "recipe_name": "Lemongrass Consomm\u00e9 with Matzoh Balls, Leeks, and Shiitake Mushrooms",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['vegetable oil'",
mealmateai-meal-planner-service-1  |         "'4 large eggs'",
mealmateai-meal-planner-service-1  |         "'matzoh meal'",
mealmateai-meal-planner-service-1  |         "'salt'",
mealmateai-meal-planner-service-1  |         "'4 quarts chicken stock or low sodium chicken broth'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "comfort-cooked",
mealmateai-meal-planner-service-1  |       "summary": "A refined soup featuring scratch-made matzoh balls, gently poached leeks, and shiitake mushrooms. These components are served in a warm, flavorful lemongrass consomm\u00e9 (prepared separately) and garnished with fresh parsley.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5110722,
mealmateai-meal-planner-service-1  |       "confidence": 14.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "desserts-sweets": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "13398",
mealmateai-meal-planner-service-1  |       "recipe_id": "13398",
mealmateai-meal-planner-service-1  |       "recipe_name": "Marbled Chocolate and Strawberry Galettes",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['all purpose flour'",
mealmateai-meal-planner-service-1  |         "'1 sugar'",
mealmateai-meal-planner-service-1  |         "'1 salt'",
mealmateai-meal-planner-service-1  |         "'3 1 1 2 sticks chilled unsalted butter cut into 1 2 inch pieces'",
mealmateai-meal-planner-service-1  |         "'or more ice water'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "desserts-sweets",
mealmateai-meal-planner-service-1  |       "summary": "Marbled Chocolate and Strawberry Galettes: Free-form tarts with a flaky crust, filled with marbled bittersweet and white chocolate, and topped with fresh strawberries and a red currant glaze.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6315713,
mealmateai-meal-planner-service-1  |       "confidence": 23.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "10250",
mealmateai-meal-planner-service-1  |       "recipe_id": "10250",
mealmateai-meal-planner-service-1  |       "recipe_name": "Bittersweet Chocolate Pudding Pie with Cr\u00e8me Fra\u00eeche Topping",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['chocolate wafer cookie crumbs about half of one 9 ounce package about 23 cookies finely ground in processor'",
mealmateai-meal-planner-service-1  |         "'sugar'",
mealmateai-meal-planner-service-1  |         "'unsalted butter melted'",
mealmateai-meal-planner-service-1  |         "'bittersweet chocolate 60 cacao finely chopped'",
mealmateai-meal-planner-service-1  |         "'1 s"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "desserts-sweets",
mealmateai-meal-planner-service-1  |       "summary": "A decadent pie with a chocolate wafer crust and a rich, no-bake bittersweet chocolate pudding filling, topped with a light and fluffy cr\u00e8me fra\u00eeche whipped cream.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6288501,
mealmateai-meal-planner-service-1  |       "confidence": 23.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "1408",
mealmateai-meal-planner-service-1  |       "recipe_id": "1408",
mealmateai-meal-planner-service-1  |       "recipe_name": "Sweet Potato Rice Crispies",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['3 tbsp 42 g butter'",
mealmateai-meal-planner-service-1  |         "'1 60 g pureed sweet potato about 1 small sweet potato'",
mealmateai-meal-planner-service-1  |         "'1 tbsp vanilla extract'",
mealmateai-meal-planner-service-1  |         "'1 tsp salt'",
mealmateai-meal-planner-service-1  |         "'11 2 tsp 4 g ground cinnamon'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "desserts-sweets",
mealmateai-meal-planner-service-1  |       "summary": "A chewy, sweet treat resembling traditional rice crispy treats, but enhanced with pureed sweet potato, cinnamon, nutmeg, and pecans.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5386906,
mealmateai-meal-planner-service-1  |       "confidence": 11.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "8427",
mealmateai-meal-planner-service-1  |       "recipe_id": "8427",
mealmateai-meal-planner-service-1  |       "recipe_name": "Monster Eyeballs",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['1 1 creamy peanut butter'",
mealmateai-meal-planner-service-1  |         "'1 1 stick butter at room temperature'",
mealmateai-meal-planner-service-1  |         "'1 1 pound package confectioners sugar about vanilla extract'",
mealmateai-meal-planner-service-1  |         "'1 12 ounce package semisweet chocolate chips'",
mealmateai-meal-planner-service-1  |         "'solid vegetable sho"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "desserts-sweets",
mealmateai-meal-planner-service-1  |       "summary": "Spooky Halloween treats made from peanut butter and confectioners' sugar balls, partially dipped in melted chocolate and decorated with M&Ms to resemble eyeballs.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5166747,
mealmateai-meal-planner-service-1  |       "confidence": 20.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "breakfast-morning": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "714",
mealmateai-meal-planner-service-1  |       "recipe_id": "714",
mealmateai-meal-planner-service-1  |       "recipe_name": "Quick Breakfast Quinoa",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['dry quinoa'",
mealmateai-meal-planner-service-1  |         "'water'",
mealmateai-meal-planner-service-1  |         "'1 medium apple cored and diced'",
mealmateai-meal-planner-service-1  |         "'1 raw almonds chopped'",
mealmateai-meal-planner-service-1  |         "'fresh or thawed frozen blueberries'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "breakfast-morning",
mealmateai-meal-planner-service-1  |       "summary": "Quick Breakfast Quinoa: A warm breakfast featuring cooked quinoa mixed with diced apple, chopped almonds, blueberries, raisins, cinnamon, and plant-based milk.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6152158,
mealmateai-meal-planner-service-1  |       "confidence": 9.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "3226",
mealmateai-meal-planner-service-1  |       "recipe_id": "3226",
mealmateai-meal-planner-service-1  |       "recipe_name": "Breakfast Bowl With Quinoa and Berries",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['mixed berries raspberries strawberries blueberries blackberries'",
mealmateai-meal-planner-service-1  |         "'hemp hearts available in the natural section of most supermarkets in a variety of brands'",
mealmateai-meal-planner-service-1  |         "'20 whole almonds toasted and chopped'",
mealmateai-meal-planner-service-1  |         ""
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "breakfast-morning",
mealmateai-meal-planner-service-1  |       "summary": "Breakfast Bowl With Quinoa and Berries: A simple breakfast bowl combining cooked quinoa, mixed berries, hemp hearts, and chopped almonds.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.608019,
mealmateai-meal-planner-service-1  |       "confidence": 6.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "plant-based": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "11870",
mealmateai-meal-planner-service-1  |       "recipe_id": "11870",
mealmateai-meal-planner-service-1  |       "recipe_name": "Curried Red Lentil and Swiss Chard Stew with Garbanzo Beans",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['olive oil'",
mealmateai-meal-planner-service-1  |         "'1 large onion thinly sliced'",
mealmateai-meal-planner-service-1  |         "'curry powder'",
mealmateai-meal-planner-service-1  |         "'1 cayenne pepper'",
mealmateai-meal-planner-service-1  |         "'3 14 ounce cans vegetable broth'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "plant-based",
mealmateai-meal-planner-service-1  |       "summary": "A hearty vegetarian stew featuring red lentils, Swiss chard, and garbanzo beans, seasoned with curry and cayenne, and finished with a dollop of plain yogurt.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.6043273,
mealmateai-meal-planner-service-1  |       "confidence": 6.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "10125",
mealmateai-meal-planner-service-1  |       "recipe_id": "10125",
mealmateai-meal-planner-service-1  |       "recipe_name": "Veggie Tacos",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['1 small eggplant cut into 1 2 inch cubes'",
mealmateai-meal-planner-service-1  |         "'1 1 coarse salt'",
mealmateai-meal-planner-service-1  |         "'olive oil'",
mealmateai-meal-planner-service-1  |         "'3 diced onion'",
mealmateai-meal-planner-service-1  |         "'2 cloves of garlic finely chopped'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "plant-based",
mealmateai-meal-planner-service-1  |       "summary": "Veggie Tacos: Vegetarian tacos filled with a hearty, flavorful stew of saut\u00e9ed eggplant, diced bell peppers, onions, tomatoes, kidney beans, and chickpeas, seasoned with chili powder and cumin.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.578354,
mealmateai-meal-planner-service-1  |       "confidence": 9.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "4978",
mealmateai-meal-planner-service-1  |       "recipe_id": "4978",
mealmateai-meal-planner-service-1  |       "recipe_name": "Good Gravy Bowl with Broccoli & Seitan",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['olive oil'",
mealmateai-meal-planner-service-1  |         "'1 medium yellow onion diced'",
mealmateai-meal-planner-service-1  |         "'3 cloves garlic chopped'",
mealmateai-meal-planner-service-1  |         "'pinch of salt'",
mealmateai-meal-planner-service-1  |         "'1 1 organic cornstarch'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "plant-based",
mealmateai-meal-planner-service-1  |       "summary": "A savory meal bowl featuring cooked quinoa topped with seared seitan, steamed broccoli, and a rich, pureed lentil and miso gravy.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.46554992,
mealmateai-meal-planner-service-1  |       "confidence": 9.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "protein-mains": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "11604",
mealmateai-meal-planner-service-1  |       "recipe_id": "11604",
mealmateai-meal-planner-service-1  |       "recipe_name": "Sauteed Chicken Breasts with Country Ham and Summer Succotash",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['extra virgin olive oil divided'",
mealmateai-meal-planner-service-1  |         "'chopped onion'",
mealmateai-meal-planner-service-1  |         "'1 red bell pepper cut into 1 3 inch dice'",
mealmateai-meal-planner-service-1  |         "'4 1 fresh thyme leaves divided'",
mealmateai-meal-planner-service-1  |         "'2 garlic cloves minced'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "protein-mains",
mealmateai-meal-planner-service-1  |       "summary": "A protein-rich main course of saut\u00e9ed boneless chicken breasts, pounded thin with a slice of country ham. It's served with a vibrant summer succotash, a creamy mix of fresh corn, bell pepper, green beans, zucchini, onion, garlic, and thyme.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5138676,
mealmateai-meal-planner-service-1  |       "confidence": 17.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "12027",
mealmateai-meal-planner-service-1  |       "recipe_id": "12027",
mealmateai-meal-planner-service-1  |       "recipe_name": "Chicken, Asparagus, and Broccoli Stir-Fry",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['asian sesame oil divided'",
mealmateai-meal-planner-service-1  |         "'2 garlic cloves chopped'",
mealmateai-meal-planner-service-1  |         "'1 1 2 inch pieces asparagus'",
mealmateai-meal-planner-service-1  |         "'small broccoli florets'",
mealmateai-meal-planner-service-1  |         "'low salt chicken broth divided'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "protein-mains",
mealmateai-meal-planner-service-1  |       "summary": "A stir-fry dish featuring thinly sliced chicken breast, asparagus, broccoli, and green onions, tossed in a savory hoisin and oyster sauce.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5098114,
mealmateai-meal-planner-service-1  |       "confidence": 10.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "7873",
mealmateai-meal-planner-service-1  |       "recipe_id": "7873",
mealmateai-meal-planner-service-1  |       "recipe_name": "Mom's Meatloaf",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['ground beef'",
mealmateai-meal-planner-service-1  |         "'1 2 small box saltines or similar crackers'",
mealmateai-meal-planner-service-1  |         "'2 eggs'",
mealmateai-meal-planner-service-1  |         "'milk'",
mealmateai-meal-planner-service-1  |         "'2 large green peppers chopped'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "protein-mains",
mealmateai-meal-planner-service-1  |       "summary": "A homestyle meatloaf featuring ground beef mixed with crumbled crackers, eggs, and milk, formed into loaves, browned, and then slow-simmered in a rich tomato-based sauce with saut\u00e9ed green peppers, onions, and mushrooms.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.39572507,
mealmateai-meal-planner-service-1  |       "confidence": 15.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "quick-light": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "4718",
mealmateai-meal-planner-service-1  |       "recipe_id": "4718",
mealmateai-meal-planner-service-1  |       "recipe_name": "Eggplant \"Tacos\"",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "1 eggplant",
mealmateai-meal-planner-service-1  |         "olive oil",
mealmateai-meal-planner-service-1  |         "salt",
mealmateai-meal-planner-service-1  |         "brie",
mealmateai-meal-planner-service-1  |         "cilantro or basil"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "quick-light",
mealmateai-meal-planner-service-1  |       "summary": "Roasted eggplant rounds topped with creamy Brie and fresh herbs (cilantro or basil), folded like mini tacos.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.50178516,
mealmateai-meal-planner-service-1  |       "confidence": 3.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "3207",
mealmateai-meal-planner-service-1  |       "recipe_id": "3207",
mealmateai-meal-planner-service-1  |       "recipe_name": "Roasted Veg With Nutritional Yeast",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['2 small heads of broccoli cut into florets with some stalk attached or 1 medium acorn squash seeds removed cut into 1 2 inch slices'",
mealmateai-meal-planner-service-1  |         "'virgin coconut oil warmed to liquefy if needed'",
mealmateai-meal-planner-service-1  |         "'kosher salt f"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "quick-light",
mealmateai-meal-planner-service-1  |       "summary": "A simple plant-based side dish featuring *roasted vegetables* (broccoli or acorn squash) seasoned with salt and pepper, then tossed with *nutritional yeast* post-roasting for a savory, *cheesy flavor*. Cooked at 425\u00b0F for 20-25 minutes, it's a quick and easy option that can be made up to 5 days ahead.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.5013095,
mealmateai-meal-planner-service-1  |       "confidence": 3.0
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "id": "2010",
mealmateai-meal-planner-service-1  |       "recipe_id": "2010",
mealmateai-meal-planner-service-1  |       "recipe_name": "Cocoa-Nut Energy Bites",
mealmateai-meal-planner-service-1  |       "ingredients": [
mealmateai-meal-planner-service-1  |         "['virgin coconut oil melted cooled plus more for pan'",
mealmateai-meal-planner-service-1  |         "'cacao nibs'",
mealmateai-meal-planner-service-1  |         "'pitted medjool dates about 8'",
mealmateai-meal-planner-service-1  |         "'1 nut butter'",
mealmateai-meal-planner-service-1  |         "'ground chia seeds ground flaxseed and or ground hemp seeds'"
mealmateai-meal-planner-service-1  |       ],
mealmateai-meal-planner-service-1  |       "cuisine_type": "quick-light",
mealmateai-meal-planner-service-1  |       "summary": "A no-bake recipe for chewy energy bites featuring dates, cacao nibs, shredded coconut, and nut butter. Prepared easily in a food processor and chilled until firm, these plant-based, refined sugar-free snacks are excellent for make-ahead convenience.",
mealmateai-meal-planner-service-1  |       "similarity_score": 0.49652377,
mealmateai-meal-planner-service-1  |       "confidence": 3.0
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ]
mealmateai-meal-planner-service-1  | }
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             INSTRUCTIONS:
mealmateai-meal-planner-service-1  |             1. Prioritize recipes with higher similarity_score (closer to 1.0) as they better match user intent
mealmateai-meal-planner-service-1  |             2. Use recipe collections for smart meal type assignment:
mealmateai-meal-planner-service-1  |                - breakfast-morning: breakfast meals
mealmateai-meal-planner-service-1  |                - desserts-sweets: desserts or sweet snacks  
mealmateai-meal-planner-service-1  |                - protein-mains: lunch/dinner main courses
mealmateai-meal-planner-service-1  |                - quick-light: light meals, snacks, quick options
mealmateai-meal-planner-service-1  |                - fresh-cold: salads, cold preparations
mealmateai-meal-planner-service-1  |                - baked-breads: baked goods, bread-based meals
mealmateai-meal-planner-service-1  |                - comfort-cooked: hearty dinner meals
mealmateai-meal-planner-service-1  |                - plant-based: vegetarian/vegan options
mealmateai-meal-planner-service-1  |             3. Ensure variety across different collections and meal types
mealmateai-meal-planner-service-1  |             4. Balance nutrition by including different types of recipes
mealmateai-meal-planner-service-1  |             5. Create 7 days with 3 meals per day unless user specifies otherwise
mealmateai-meal-planner-service-1  |             6. Include similarity scores in the output for transparency
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             Return JSON format:
mealmateai-meal-planner-service-1  |             {
mealmateai-meal-planner-service-1  |                 "meal_plan": [
mealmateai-meal-planner-service-1  |                     {
mealmateai-meal-planner-service-1  |                         "day": 1,
mealmateai-meal-planner-service-1  |                         "meals": [
mealmateai-meal-planner-service-1  |                             {
mealmateai-meal-planner-service-1  |                                 "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |                                 "recipe_id": 123,
mealmateai-meal-planner-service-1  |                                 "recipe_name": "Recipe Name",
mealmateai-meal-planner-service-1  |                                 "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |                                 "similarity_score": 0.85
mealmateai-meal-planner-service-1  |                             }
mealmateai-meal-planner-service-1  |                         ]
mealmateai-meal-planner-service-1  |                     }
mealmateai-meal-planner-service-1  |                 ],
mealmateai-meal-planner-service-1  |                 "explanation": "Detailed explanation of meal plan choices, highlighting how AI recommendations were used to match your preferences"
mealmateai-meal-planner-service-1  |             }
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  |             CRITICAL: Output ONLY the JSON object. No markdown, no extra text.
mealmateai-meal-planner-service-1  |             
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:‚è≥ Sending request to Gemini API...
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üì• EXACT RESPONSE FROM GEMINI:
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:```json
mealmateai-meal-planner-service-1  | {
mealmateai-meal-planner-service-1  |   "meal_plan": [
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 1,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "714",
mealmateai-meal-planner-service-1  |           "recipe_name": "Quick Breakfast Quinoa",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.6152158
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "11604",
mealmateai-meal-planner-service-1  |           "recipe_name": "Sauteed Chicken Breasts with Country Ham and Summer Succotash",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5138676
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "8044",
mealmateai-meal-planner-service-1  |           "recipe_name": "Pork Stew with Hard Cider, Pearl Onions, and Potatoes",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.619404
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 2,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "3226",
mealmateai-meal-planner-service-1  |           "recipe_name": "Breakfast Bowl With Quinoa and Berries",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.608019
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "12027",
mealmateai-meal-planner-service-1  |           "recipe_name": "Chicken, Asparagus, and Broccoli Stir-Fry",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5098114
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "11870",
mealmateai-meal-planner-service-1  |           "recipe_name": "Curried Red Lentil and Swiss Chard Stew with Garbanzo Beans",
mealmateai-meal-planner-service-1  |           "collection": "plant-based",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.6043273
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 3,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "714",
mealmateai-meal-planner-service-1  |           "recipe_name": "Quick Breakfast Quinoa",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.6152158
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "2546",
mealmateai-meal-planner-service-1  |           "recipe_name": "Beef and Potato Pasties",
mealmateai-meal-planner-service-1  |           "collection": "baked-breads",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.58404464
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "8044",
mealmateai-meal-planner-service-1  |           "recipe_name": "Pork Stew with Hard Cider, Pearl Onions, and Potatoes",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.619404
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 4,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "3226",
mealmateai-meal-planner-service-1  |           "recipe_name": "Breakfast Bowl With Quinoa and Berries",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.608019
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "11604",
mealmateai-meal-planner-service-1  |           "recipe_name": "Sauteed Chicken Breasts with Country Ham and Summer Succotash",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5138676
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "10022",
mealmateai-meal-planner-service-1  |           "recipe_name": "Lemongrass Consomm\u00e9 with Matzoh Balls, Leeks, and Shiitake Mushrooms",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5110722
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 5,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "714",
mealmateai-meal-planner-service-1  |           "recipe_name": "Quick Breakfast Quinoa",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.6152158
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "12027",
mealmateai-meal-planner-service-1  |           "recipe_name": "Chicken, Asparagus, and Broccoli Stir-Fry",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5098114
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "12743",
mealmateai-meal-planner-service-1  |           "recipe_name": "Barley and Lentil Soup with Swiss Chard",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.64889055
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 6,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "3226",
mealmateai-meal-planner-service-1  |           "recipe_name": "Breakfast Bowl With Quinoa and Berries",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.608019
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "11604",
mealmateai-meal-planner-service-1  |           "recipe_name": "Sauteed Chicken Breasts with Country Ham and Summer Succotash",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5138676
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "11074",
mealmateai-meal-planner-service-1  |           "recipe_name": "Potato, Cheddar, and Chive Soup",
mealmateai-meal-planner-service-1  |           "collection": "comfort-cooked",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.528253
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     },
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |       "day": 7,
mealmateai-meal-planner-service-1  |       "meals": [
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "breakfast",
mealmateai-meal-planner-service-1  |           "recipe_id": "714",
mealmateai-meal-planner-service-1  |           "recipe_name": "Quick Breakfast Quinoa",
mealmateai-meal-planner-service-1  |           "collection": "breakfast-morning",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.6152158
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "lunch",
mealmateai-meal-planner-service-1  |           "recipe_id": "12027",
mealmateai-meal-planner-service-1  |           "recipe_name": "Chicken, Asparagus, and Broccoli Stir-Fry",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.5098114
mealmateai-meal-planner-service-1  |         },
mealmateai-meal-planner-service-1  |         {
mealmateai-meal-planner-service-1  |           "meal_type": "dinner",
mealmateai-meal-planner-service-1  |           "recipe_id": "7873",
mealmateai-meal-planner-service-1  |           "recipe_name": "Mom's Meatloaf",
mealmateai-meal-planner-service-1  |           "collection": "protein-mains",
mealmateai-meal-planner-service-1  |           "similarity_score": 0.39572507
mealmateai-meal-planner-service-1  |         }
mealmateai-meal-planner-service-1  |       ]
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  |   ],
mealmateai-meal-planner-service-1  |   "explanation": "This meal plan prioritizes high-protein, low-carb meals that are easy to cook. The 'breakfast-morning' collection offers quick and nutritious options. 'protein-mains' provides protein-focused lunches and dinners. 'comfort-cooked' dishes offer heartier dinner choices. The meal plan balances these categories throughout the week, with slight variations to offer a varied diet."
mealmateai-meal-planner-service-1  | }
mealmateai-meal-planner-service-1  | ```
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:üîÑ Parsing Gemini response...
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:Successfully generated and validated RAG meal plan
mealmateai-meal-planner-service-1  | INFO:app.services.gemini_service:‚úÖ Gemini response parsed successfully
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üìä STEP 5: Adding Enhanced Metadata
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üìà Quality Metrics:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Average Recipe Similarity: 0.558
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Collections Used: ['fresh-cold', 'baked-breads', 'breakfast-morning', 'quick-light', 'comfort-cooked', 'plant-based', 'protein-mains', 'desserts-sweets']
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ User Preferences Applied: True
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üéâ RAG MEAL PLAN THINKING PROCESS COMPLETE
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:‚úÖ Final Meal Plan Generated:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Recipes Found: 27
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ AI Enhanced: True
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Processing Quality: 0.558 average similarity
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Collections: 8 different types
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:     172.25.0.8:56520 - "POST /rag/generate HTTP/1.1" 200 OK
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üß† STARTING RAG MEAL PLAN THINKING PROCESS
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:================================================================================
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üìã STEP 1: Gathering User Context
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üë§ User ID: 1
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üí¨ Original Prompt: 'I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs
mealmateai-meal-planner-service-1  | '
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üéØ User Preferences Retrieved:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Dietary Restrictions: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Allergies: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Cuisine Preferences: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Cooking Style: []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Spice Tolerance: unknown
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Portion Preference: unknown
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üìö STEP 2: Analyzing Meal Plan History
mealmateai-meal-planner-service-1  | ERROR:app.services.meal_plan_service:Error getting user meal plans: (psycopg2.errors.UndefinedColumn) column meal_plans.conversation_data does not exist
mealmateai-meal-planner-service-1  | LINE 1: ....plan_explanation AS meal_plans_plan_explanation, meal_plans...
mealmateai-meal-planner-service-1  |                                                              ^
mealmateai-meal-planner-service-1  | 
mealmateai-meal-planner-service-1  | 
mealmateai-meal-planner-service-1  | [SQL: SELECT meal_plans.id AS meal_plans_id, meal_plans.user_id AS meal_plans_user_id, meal_plans.plan_name AS meal_plans_plan_name, meal_plans.created_at AS meal_plans_created_at, meal_plans.updated_at AS meal_plans_updated_at, meal_plans.days AS meal_plans_days, meal_plans.meals_per_day AS meal_plans_meals_per_day, meal_plans.plan_data AS meal_plans_plan_data, meal_plans.plan_explanation AS meal_plans_plan_explanation, meal_plans.conversation_data AS meal_plans_conversation_data, meal_plans.conversation_title AS meal_plans_conversation_title, meal_plans.original_prompt AS meal_plans_original_prompt 
mealmateai-meal-planner-service-1  | FROM meal_plans 
mealmateai-meal-planner-service-1  | WHERE meal_plans.user_id = %(user_id_1)s 
mealmateai-meal-planner-service-1  |  LIMIT %(param_1)s OFFSET %(param_2)s]
mealmateai-meal-planner-service-1  | [parameters: {'user_id_1': 1, 'param_1': 100, 'param_2': 0}]
mealmateai-meal-planner-service-1  | (Background on this error at: https://sqlalche.me/e/20/f405)
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üóÇÔ∏è Recent Meal Plans (last 3): []
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚ö™ No previous meal plans found - first time user
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | ü§ñ STEP 3: AI-Powered Recipe Recommendations
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üîç Searching for recipes with enhanced context...
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üîÑ Converting prompt to conversation format...
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:üí¨ Conversation History Sent to Recipe Service:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:[
mealmateai-meal-planner-service-1  |     {
mealmateai-meal-planner-service-1  |         "role": "user",
mealmateai-meal-planner-service-1  |         "content": "I need a 7 day meal plan, im a single male aged 25 years old so I want easy to cook, no salads, high protein and low carbs\n"
mealmateai-meal-planner-service-1  |     }
mealmateai-meal-planner-service-1  | ]
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | üì§ Sending Request to Recipe Service RAG System:
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Max Results: 50
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ User Preferences Included: True
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:   ‚Ä¢ Preferences Data: {
mealmateai-meal-planner-service-1  |       "dietary_restrictions": [],
mealmateai-meal-planner-service-1  |       "allergies": [],
mealmateai-meal-planner-service-1  |       "cuisine_preferences": [],
mealmateai-meal-planner-service-1  |       "disliked_ingredients": []
mealmateai-meal-planner-service-1  | }
mealmateai-meal-planner-service-1  | INFO:app.services.meal_plan_service:
mealmateai-meal-planner-service-1  | ‚ö° Calling Recipe Service /recommendations endpoint...
canceled
