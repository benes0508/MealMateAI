  ğŸ“‹ Complete Guide to Writing Effective LLM Prompts according to Claude Code

  ğŸ¯ Core Principles:

  1. Be Specific and Clear

  âŒ Bad: "Generate some queries"
  âœ… Good: "Generate 1-5 search queries for finding Italian pasta recipes"

  2. Use Examples and Structure

  âœ… Always provide concrete examples:
  "Return JSON like this: {"queries": ["example 1", "example 2"]}"

  3. Set Clear Constraints

  âœ… Specify limits: "Generate between 1-5 queries maximum"
  âœ… Define scope: "Focus on cuisine, dietary needs, meal types"

  ğŸ”§ Technical Best Practices:

  4. Handle Special Characters

  âŒ Bad: Use raw { } in templates
  âœ… Good: Escape braces {{ }} when using .format()

  5. Request Specific Output Format

  âœ… "Output ONLY the JSON object, no other text"
  âœ… "Do not include explanations or markdown"

  6. Use Clear Delimiters

  âœ… Wrap examples in ```json blocks
  âœ… Use clear section headers: "INSTRUCTIONS:", "EXAMPLE:"

  ğŸ¨ Prompt Structure Template:

  [ROLE DEFINITION]
  You are a [specific role] that [specific task].

  [INPUT]
  USER REQUEST: {variable}

  [TASK DESCRIPTION]
  Your task is to [specific action] that will [specific outcome].

  [GUIDELINES]
  - Guideline 1
  - Guideline 2
  - Guideline 3

  [OUTPUT FORMAT]
  Return your response as [format] with this exact structure:

  ```json
  {{
      "key": ["value1", "value2"]
  }}

  [IMPORTANT NOTES]
  Important: [critical constraints]

  ### **âš ï¸ Common Pitfalls to Avoid:**

  #### **7. Template Formatting Issues**
  âŒ Unescaped braces: {"key": "value"}
  âœ… Escaped braces: {{"key": "value"}}

  #### **8. Ambiguous Instructions**
  âŒ "Generate good queries"
  âœ… "Generate 3-5 specific search queries targeting different aspects"

  #### **9. Missing Constraints**
  âŒ No limits specified
  âœ… "Maximum 5 queries, each 3-10 words long"

  #### **10. Complex JSON Structures**
  âŒ Nested complex objects
  âœ… Simple, flat structures when possible

  ### **ğŸ§ª Testing Your Prompts:**

  #### **11. Test Edge Cases**
  - Empty inputs
  - Very long inputs
  - Special characters
  - Multiple languages

  #### **12. Validate JSON Output**
  - Always parse and validate JSON
  - Handle parsing errors gracefully
  - Log raw responses for debugging

  ### **ğŸš€ Advanced Techniques:**

  #### **13. Multi-Step Instructions**
  âœ… Break complex tasks into numbered steps:
  1. Analyze the user request
  2. Identify key aspects (cuisine, dietary, etc.)
  3. Generate targeted queries for each aspect

  #### **14. Context and Examples**
  âœ… Provide context: "For a recipe database with 1000+ recipes"
  âœ… Give examples: "Good query: 'Italian pasta vegetarian'"

  #### **15. Error Prevention**
  âœ… "If unsure, generate fewer but higher quality queries"
  âœ… "Avoid overly specific queries that might return no results"

  This comprehensive approach ensures reliable, predictable LLM behavior! ğŸ¯